<link rel="stylesheet" href="{{ url_for('static', filename='style_header.css') }}" />

<header class="header">
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <!-- Logo -->
      <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
        <img src="{{ url_for('static', filename='icons/logo.png') }}" alt="Logo" class="logo" />
        <span style="color: white">Loca</span>
        <span style="color: #ffc107" class="no-space">Shop</span>
      </a>

      <!-- Botão hamburguer para telas pequenas -->
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Menu principal -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link fw-bold {% if request.endpoint == 'agenda' %}active{% endif %}" href="{{ url_for('agenda') }}">
              <i class="fas fa-calendar-day me-1"></i>
              Agenda
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-bold text-success {% if request.endpoint == 'rent' %}active{% endif %}" href="{{ url_for('rent') }}">
              <i class="fas fa-bolt me-1"></i>
              Iniciar transação
            </a>
          </li>

          <!-- Dropdown Menu Transações -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="menuDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-random me-1"></i>
              Ver Transações
            </a>
            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end">
              <li>
                <a class="dropdown-item {% if request.endpoint == 'all_transactions' %}active{% endif %}" href="{{ url_for('all_transactions') }}">
                  <i class="fas fa-list me-2"></i>
                  Todos
                </a>
              </li>

              <li>
                <a class="dropdown-item {% if request.endpoint == 'reserved' %}active{% endif %}" href="{{ url_for('reserved') }}">
                  <i class="fas fa-calendar-plus me-2"></i>
                  Reservados
                </a>
              </li>
              <li>
                <a class="dropdown-item {% if request.endpoint == 'rented' %}active{% endif %}" href="{{ url_for('rented') }}">
                  <i class="fas fa-truck-moving me-2"></i>
                  Retirados
                </a>
              </li>
              <li>
                <a class="dropdown-item {% if request.endpoint == 'returned' %}active{% endif %}" href="{{ url_for('returned') }}">
                  <i class="fas fa-undo-alt me-2"></i>
                  Devolvidos
                </a>
              </li>
            </ul>
          </li>

          <!-- Dropdown End -->

          <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'inventory' %}active{% endif %}" href="{{ url_for('inventory') }}">
              <i class="fas fa-box-open me-1"></i>
              Inventário
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'listar_clientes' %}active{% endif %}" href="{{ url_for('listar_clientes') }}">
              <i class="fas fa-user-friends me-1"></i>
              Clientes
            </a>
          </li>

          <!-- Dropdown Menu general -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="menuDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-ellipsis-h me-1"></i>
              Mais
            </a>
            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end">
              <li>
                <a class="dropdown-item {% if request.endpoint == 'reports' %}active{% endif %}" href="{{ url_for('reports') }}">
                  <i class="fas fa-chart-line me-2"></i>
                  Estatísticas da conta
                </a>
              </li>
              <li>
                <a
                  class="dropdown-item {% if request.endpoint == 'custom_fields' %}active{% endif %}"
                  href="{{ url_for('custom_fields', entity='item') }}"
                >
                  <i class="fas fa-sliders-h me-2"></i>
                  Customizar campos
                </a>
              </li>

              <li>
                <a class="dropdown-item {% if request.endpoint == 'archive' %}active{% endif %}" href="{{ url_for('archive') }}">
                  <i class="fas fa-archive me-2"></i>
                  Itens Arquivados
                </a>
              </li>

              <li>
                <a class="dropdown-item {% if request.endpoint == 'adjustments' %}active{% endif %}" href="{{ url_for('adjustments') }}">
                  <i class="fas fa-cogs me-2"></i>
                  Ajustes e Planos
                </a>
              </li>

              <li>
                <a class="dropdown-item {% if request.endpoint == 'listar_modelos' %}active{% endif %}" href="{{ url_for('listar_modelos') }}">
                  <i class="fas fa-file-alt me-2"></i>
                  Contratos e recibos
                </a>
              </li>
              <li>
                <a class="dropdown-item {% if request.endpoint == 'add_fitting' %}active{% endif %}" href="{{ url_for('add_fitting') }}">
                  <i class="fas fa-calendar-plus me-2"></i>
                  Agendar prova
                </a>
              </li>
              <li>
                <a class="dropdown-item {% if request.endpoint == 'trash_itens' %}active{% endif %}" href="{{ url_for('trash_itens') }}">
                  <i class="fas fa-trash-alt me-2"></i>
                  Lixeira de itens
                </a>
              </li>

              <li>
                <a
                  class="dropdown-item {% if request.endpoint == 'trash_transactions' %}active{% endif %}"
                  href="{{ url_for('trash_transactions') }}"
                >
                  <i class="fas fa-trash-restore me-2"></i>
                  Lixeira de transações
                </a>
              </li>
              {% if session.get('logged_in') %} {% if session.get('role') == 'general_admin' %}
              <li><hr class="dropdown-divider" /></li>
              <li>
                <a class="dropdown-item text-success" href="{{ url_for('admin_dashboard') }}">
                  <i class="fas fa-tools me-2"></i>
                  Painel de Administração
                </a>
              </li>
              {% endif %}
              <li><hr class="dropdown-divider" /></li>
              <li>
                <a class="dropdown-item text-danger" href="{{ url_for('logout') }}">
                  <i class="fas fa-sign-out-alt me-2"></i>
                  Sair
                </a>
              </li>
              {% endif %}
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

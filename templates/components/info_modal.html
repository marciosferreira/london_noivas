<div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalhes do Cliente</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>
          <strong>Nome:</strong>
          <span id="modalName"></span>
        </p>
        <p>
          <strong>Telefone:</strong>
          <span id="modalPhone"></span>
        </p>
        <p>
          <strong>Email:</strong>
          <span id="modalEmail"></span>
        </p>
        <p>
          <strong>EndereÃ§o:</strong>
          <span id="modalAddress"></span>
        </p>
        <p>
          <strong>CPF:</strong>
          <span id="modalCPF"></span>
        </p>
        <p>
          <strong>CNPJ:</strong>
          <span id="modalCNPJ"></span>
        </p>
        <p>
          <strong>Data de Cadastro:</strong>
          <span id="modalCreated"></span>
        </p>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.open-modal').forEach((cell) => {
      cell.addEventListener('click', function () {
        try {
          const data = JSON.parse(this.getAttribute('data-item'));
          console.log('ðŸ§ª Dados recebidos no modal:', data);

          document.getElementById('modalName').textContent = data.client_name || 'N/A';
          document.getElementById('modalPhone').textContent = data.client_tel || 'N/A';
          document.getElementById('modalEmail').textContent = data.client_email || 'N/A';
          document.getElementById('modalAddress').textContent = data.client_address || 'N/A';
          document.getElementById('modalCPF').textContent = data.client_cpf || 'N/A';
          document.getElementById('modalCNPJ').textContent = data.client_cnpj || 'N/A';
          document.getElementById('modalCreated').textContent = data.created_at || 'N/A';

          new bootstrap.Modal(document.getElementById('infoModal')).show();
        } catch (e) {
          console.error('Erro ao abrir modal:', e);
        }
      });
    });
  });
</script>

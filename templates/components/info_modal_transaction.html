<div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalhes da transa√ß√£o</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>
          <strong>Nome:</strong>
          <span id="modalName"></span>
        </p>
        <p>
          <strong>Telefone:</strong>
          <span id="modalPhone"></span>
        </p>
        <p>
          <strong>Email:</strong>
          <span id="modalEmail"></span>
        </p>
        <p>
          <strong>Endere√ßo:</strong>
          <span id="modalAddress"></span>
        </p>
        <p>
          <strong>CPF:</strong>
          <span id="modalCPF"></span>
        </p>
        <p>
          <strong>CNPJ:</strong>
          <span id="modalCNPJ"></span>
        </p>
        <p>
          <strong>Observa√ß√µes do Cliente:</strong>
          <span id="modalObs"></span>
        </p>
        <hr />

        <p>
          <strong>Item Custom ID:</strong>
          <span id="modalItemCustomId"></span>
        </p>
        <p>
          <strong>Data de Retirada:</strong>
          <span id="modalRentalDate"></span>
        </p>
        <p>
          <strong>Data de Devolu√ß√£o:</strong>
          <span id="modalReturnDate"></span>
        </p>
        <p>
          <strong>Valor:</strong>
          <span id="modalValor"></span>
        </p>
        <p>
          <strong>Pagamento:</strong>
          <span id="modalPagamento"></span>
        </p>

        <p>
          <strong>Retirado:</strong>
          <span id="modalRetirado"></span>
        </p>
        <p>
          <strong>Observa√ß√µes da Transa√ß√£o:</strong>
          <span id="modalTransactionComments"></span>
        </p>
        <p>
          <strong>Data de Cria√ß√£o:</strong>
          <span id="modalCreated"></span>
        </p>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.open-modal').forEach((cell) => {
      cell.addEventListener('click', function () {
        try {
          const data = JSON.parse(this.getAttribute('data-item'));
          console.log('üß™ Dados recebidos no modal:', data);

          document.getElementById('modalName').textContent = data.client_name || 'N/A';
          document.getElementById('modalPhone').textContent = data.client_tel || 'N/A';
          document.getElementById('modalEmail').textContent = data.client_email || 'N/A';
          document.getElementById('modalAddress').textContent = data.client_address || 'N/A';
          document.getElementById('modalCPF').textContent = data.client_cpf || 'N/A';
          document.getElementById('modalCNPJ').textContent = data.client_cnpj || 'N/A';
          document.getElementById('modalObs').textContent = data.client_obs || 'N/A';

          document.getElementById('modalItemCustomId').textContent = data.item_custom_id || 'N/A';
          document.getElementById('modalRentalDate').textContent = data.rental_date || 'N/A';
          document.getElementById('modalReturnDate').textContent = data.return_date || 'N/A';
          document.getElementById('modalValor').textContent = data.valor || 'N/A';
          document.getElementById('modalPagamento').textContent = data.pagamento || 'N/A';
          document.getElementById('modalRetirado').textContent = data.retirado ? 'Sim' : 'N√£o';
          document.getElementById('modalTransactionComments').textContent = data.comments || 'N/A';
          document.getElementById('modalCreated').textContent = data.created_at || 'N/A';

          new bootstrap.Modal(document.getElementById('infoModal')).show();
        } catch (e) {
          console.error('Erro ao abrir modal:', e);
        }
      });
    });
  });
</script>
